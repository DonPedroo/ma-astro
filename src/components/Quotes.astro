---
// Quotes.astro

interface Quote {
  quote: string;
  author: string;
  
}

interface Props {
  quotes: Quote[];
  additionalParagraph?: { content: string };
  id: string;
  

}

const { quotes,additionalParagraph, id } = Astro.props;

// Function to generate the alternating rotation values
function generateRotation(index: number): number {
  const randomValue = Math.floor(Math.random() * 5) + 1; // Random number between 1 and 5
  return index % 2 === 0 ? -randomValue : randomValue; // Negative for even index, positive for odd
}

---

<section id={id} class="h-[200vh] flex flex-col bg-[url('/images/grunge.webp')] bg-repeat bg-[size:1024px_1024px] bg-center">
  <div class="h-screen w-full flex flex-col items-center justify-center pt-64 overflow-hidden border border-red-500">

  {quotes.map((quote, index) => {
    const bgColor = index % 3 === 0 ? 'bg-massyellow text-black' :
                    index % 3 === 1 ? 'bg-white text-black' :
                    'bg-massblue text-white';

    // Generate rotation value
    const rotation = generateRotation(index);
    
    return (
      <div data-stripe-text data-stripe-text-rotate={rotation} class={`${bgColor} stripe stripe-text`}>
        <p class="stripe-text">"{quote.quote}"</p>
        <span class="stripe-label w-max">- {quote.author}</span>
      </div>
    );
  })}

  </div>

{additionalParagraph && (

         <div class="h-screen w-full flex items-center justify-center">
          <h1 data-speed="1.1" class="breaker transform" data-animation-txt-lg>{additionalParagraph.content}</h1>
        </div>
)}

</section>


